---
export interface ServiceItem {
  title: string;
  desc: string;
  icon: 'select' | 'quote' | 'ship' | 'use';
}

export interface Props {
  items?: ServiceItem[];
  heading?: string;
  subheading?: string;
  blurb?: string;
  stats?: { value: string; label: string }[];
  ctaHref?: string;
  ctaText?: string;
}

const {
  items = [
    {
      title: 'New Home Builds',
      desc:
        'We specialise in designing and building homes tailored to your lifestyle, budget, and vision. From architectural plans to the final finishes, our team handles every detail, ensuring your home is both beautiful and built to last. We work closely with you at every stage to deliver a result that feels uniquely yours.',
      icon: 'select',
    },
    {
      title: 'Commercial Construction',
      desc:
        'From office complexes to retail outlets and warehouses, we create commercial spaces that are functional, efficient, and visually impressive. Our experienced team understands the demands of business operations and works to minimise downtime, delivering projects that meet compliance standards and brand expectations.',
      icon: 'ship',
    },
    {
      title: 'Renovations & Extensions',
      desc:
        'Transform your existing property with upgrades that enhance space, style, and functionality. Whether itâ€™s adding a new room, modernising a kitchen, or refreshing a dated exterior, we combine precision craftsmanship with creative design to achieve seamless results that integrate perfectly with your existing structure.',
      icon: 'quote',
    },
    {
      title: 'Project Management',
      desc:
        'We provide complete end-to-end project management, coordinating trades, suppliers, and timelines to keep your build running smoothly. Our proactive approach ensures clear communication, cost control, and timely delivery, so you can enjoy peace of mind while we handle the details.',
      icon: 'use',
    },
  ],
  heading = 'What We Do',
  subheading = 'Comprehensive Construction Services',
  blurb = 'From concept to completion, we provide an integrated set of construction services designed to deliver quality, clarity, and confidence. Explore how we turn ideas into spaces that work beautifully.',
  stats = [
    { value: '100+ ', label: 'Projects Delivered' },
    { value: '98% ', label: 'Client Satisfaction' },
    { value: '10+ ', label: 'Years Experience' },
  ],
  ctaHref = '/services',
  ctaText = 'View All Services',
} = Astro.props as Props;
---

<section class="s4" aria-label="Services">
  <div class="s4-inner">
    <header class="s4-head">
      <p class="s4-eyebrow">{subheading}</p>
      <h2 class="s4-heading">{heading}</h2>
      <p class="s4-blurb">{blurb}</p>
    </header>

    <div class="s4-body">
      <aside class="s4-stats" aria-label="Key stats">
        {stats.map((s) => (
          <div class="s4-stat">
            <div class="s4-kpi">{s.value}</div>
            <div class="s4-kpi-label">{s.label}</div>
          </div>
        ))}
      </aside>

      <div class="s4-cards">
        {items.map((item) => (
          <article class="s4-card">
            <span class="s4-icon" aria-hidden="true">
            {item.icon === 'select' && (
              <svg viewBox="0 0 24 24" class="ic"><path d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Z" fill="none" stroke="currentColor" stroke-width="1.7"/><path d="M8 8h8M8 12h6M8 16h4" fill="none" stroke="currentColor" stroke-width="1.7"/></svg>
            )}
            {item.icon === 'quote' && (
              <svg viewBox="0 0 24 24" class="ic"><path d="M4 5h16M4 12h16M4 19h10" fill="none" stroke="currentColor" stroke-width="1.7"/><path d="M17 19l3-3" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linecap="round"/></svg>
            )}
            {item.icon === 'ship' && (
              <svg viewBox="0 0 24 24" class="ic"><path d="M3 7h11v10H3z" fill="none" stroke="currentColor" stroke-width="1.7"/><path d="M14 10h4l3 3v4h-7V10Z" fill="none" stroke="currentColor" stroke-width="1.7"/><circle cx="7" cy="19" r="1.6" fill="currentColor"/><circle cx="17" cy="19" r="1.6" fill="currentColor"/></svg>
            )}
            {item.icon === 'use' && (
              <svg viewBox="0 0 24 24" class="ic"><path d="M12 3v6l4 2v10H8V11l4-2" fill="none" stroke="currentColor" stroke-width="1.7" stroke-linejoin="round"/></svg>
            )}
            </span>
            <h3 class="s4-title">{item.title}</h3>
            <div class="s4-sep" aria-hidden="true"></div>
            <p class="s4-desc">{item.desc}</p>
          </article>
        ))}
      </div>
    </div>

    <div class="s4-cta-row">
      <a href={ctaHref} class="s4-cta">{ctaText}</a>
    </div>
  </div>
  <span class="sr-only">Service steps</span>
</section>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Manrope:wght@600;700;800&display=swap');

  .s4, .s4 * { font-family: 'Sans serif', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
  .s4 {
    --primary: #d4af37;
    --primary-border: #d4af37;
    --primary-shadow: rgba(212,175,55,.22);
    --primary-shadow-hover: rgba(212,175,55,.30);
    --charcoal: #111827;
    --navy: #162539;
    --white: #FFFFFF;
    --gold: #d4af37;
    padding: 56px 0;
    min-height: 100svh;
    background:
      linear-gradient(180deg, rgba(255,255,255,0.9) 0%, rgba(246,249,252,0.9) 100%),
      url('/Services/Services-Background1.jpg');
    background-size: auto, cover;
    background-position: center;
    background-repeat: no-repeat, no-repeat;
  }
  .s4-inner { width: 80vw; max-width: none; margin: 0 auto; padding: 0 16px; height: 100%; display: grid; grid-template-rows: auto 1fr auto; gap: 22px; }

  /* Section header */
  .s4-head { text-align: center; display: grid; gap: 10px; margin-bottom: 22px; }
  .s4-eyebrow { margin: 0; color: var(--navy); font-weight: 800; letter-spacing: .14em; text-transform: uppercase; }
  .s4-heading { margin: 0; font-size: clamp(30px, 3.4vw, 44px); font-weight: 800; color: var(--charcoal); letter-spacing: -0.005em; }
  .s4-blurb { margin: 0 auto; max-width: 70ch; color: var(--navy); font-weight: 600; }

  /* Body grid: stats + cards */
  .s4-body { display: grid; grid-template-columns: 300px 1fr; gap: 20px; align-items: stretch; min-height: 0; }

  .s4-stats {
    display: grid; grid-template-rows: repeat(3, 1fr);
    gap: 14px; align-self: stretch; height: 100%;
  }
  .s4-stat {
    background: var(--white);
    border: 1px solid var(--gold); border-radius: 18px;
    display: grid; place-items: center; text-align: center; padding: 20px 16px;
    box-shadow: none;
  }
  .s4-kpi { font-weight: 900; font-size: clamp(24px, 3vw, 34px); color: var(--gold); letter-spacing: .02em; }
  .s4-kpi-label { font-weight: 700; color: var(--navy); }

  .s4-cards { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 20px; align-items: stretch; }
  .s4-card {
    background: var(--white); border: 1px solid var(--gold); border-radius: 18px;
    background-image: radial-gradient(120% 60% at 0% 0%, var(--white) 0%, #fafcff 60%, #f6f9fd 100%);
    box-shadow: 0 10px 24px rgba(22,37,57,.06);
    padding: 24px 20px; display: grid; gap: 12px; align-content: start;
    min-height: 280px; transition: transform .25s ease, box-shadow .25s ease, border-color .25s ease, background-color .25s ease;
    height: 100%; will-change: transform;
  }
  .s4-icon { color: var(--gold); background: rgba(212,175,55,.06); width: 64px; height: 64px; border-radius: 14px; display: grid; place-items: center; }
  .ic { width: 36px; height: 36px; display: block; }
  .s4-title { margin: 0; font-weight: 800; font-size: 18px; color: var(--charcoal); letter-spacing: -.01em; }
  .s4-sep { height: 3px; width: 72px; background: linear-gradient(90deg, var(--gold), rgba(212,175,55,0)); border-radius: 999px; }
  .s4-desc { margin: 0; color: var(--navy); line-height: 1.65; font-weight: 600; font-size: 13.5px; max-width: 52ch; }
  .s4-card:hover { transform: translateY(-6px) scale(1.01); box-shadow: 0 22px 48px rgba(22,37,57,.14); border-color: var(--gold); background-color: var(--white); }
  .s4-card:focus-within { outline: 0; box-shadow: 0 0 0 3px rgba(22,37,57,.08), 0 18px 40px rgba(22,37,57,.10); border-color: var(--gold); }

  /* Bottom CTA */
  .s4-cta-row { display: grid; place-items: center; margin-top: 22px; }
  .s4-cta {
    display: inline-flex; align-items: center; justify-content: center;
    width: 40vw; max-width: 640px; min-width: 260px; height: 52px;
    border-radius: 999px; text-decoration: none; font-weight: 800; letter-spacing: .12em; text-transform: uppercase;
    background: var(--gold); color: var(--charcoal); border: 2px solid var(--gold);
    box-shadow: 0 10px 26px rgba(212,175,55,.18);
    transition: transform .2s ease, box-shadow .2s ease, background-color .2s ease;
  }
  .s4-cta:hover { transform: translateY(-2px); box-shadow: 0 14px 34px rgba(212,175,55,.22); background: #e6c04a; border-color: #e6c04a; }

  /* Responsive: center content, horizontal snap scroll, no tilt */
  @media (max-width: 960px) {
    .s4 { padding: 22px 0; min-height: 100svh; overflow-x: hidden; }
    .s4-inner { width: 100vw; max-width: 100vw; margin: 0 auto; padding: 0 16px; grid-template-rows: auto 1fr auto; gap: 12px; box-sizing: border-box; }
    .s4-head { gap: 6px; }
    .s4-heading { font-size: 22px; }
    .s4-blurb { font-size: 12px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
    .s4-body { grid-template-columns: 1fr; gap: 12px; min-height: 0; place-items: center; width: 100%; }
    .s4-stats { grid-template-columns: repeat(3, 1fr); grid-template-rows: none; width: 100%; gap: 8px; }
    .s4-stat { padding: 10px; }
    .s4-kpi { font-size: 16px; }
    .s4-kpi-label { font-size: 12px; }
    .s4-cards { grid-template-columns: 1fr; gap: 10px; justify-items: center; width: 100%; }
    .s4-card { min-height: 0; width: 100%; max-width: 640px; padding: 12px; gap: 10px; border-radius: 12px; }
    .s4-icon { width: 44px; height: 44px; }
    .ic { width: 24px; height: 24px; }
    .s4-title { font-size: 15px; }
    .s4-sep { width: 48px; height: 2px; }
    .s4-desc { font-size: 12px; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
    .s4-cta { width: 92vw; max-width: 560px; height: 44px; }
  }

  .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }
</style>


